{% extends 'plm/base.html' %}

{% load static %}

{% block content %}

<div class="container-fluid">

<p>

<h3>Product</h3>

    <div class="container-fluid">

        {{ product.code }}<br><br>

    <p>

    <form method="POST" name="material_selection" class="form-group">{% csrf_token %}
        <div>
            {{ form.as_p }}
        </div>
        <button type="submit" class="btn btn-primary">Add Material</button>
    </form>

    </p>

    </div>

<p>



<h4>Bill of Materials</h4>

<div class="container-fluid">

<table class="table" border="1">

    <thead>

        <th>Code</th>

        <th>Name</th>

        <th>Remove</th>

    </thead>

        {% for material in materials %}

    <tr>

        <td>{{ material.code }}</td>

        <td>{{ material.name }}</td>

        <td>

            <form method="post">{% csrf_token %}
                <input type="hidden" id="pk_bom" name="pk_bom" value="{{ bom.pk }}">
                <input type="hidden" id="pk_product" name="pk_product" value="{{ product.pk }}">
                <input type="hidden" id="pk_material" name="pk_material" value="{{ material.pk }}">
                <input type="submit" value="Remove" class="btn-link">
            </form>

        </td>

        {% endfor %}

    </tr>

</table>

</div>

</p>

</p>

</div>

{% endblock %}